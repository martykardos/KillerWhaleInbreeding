01_get_data.R Ð this script joins in the demography data with the inbreeding / FROH data, as well as data on deleterious alleles02_fit_surv_1stage.R Ð this script fits the Bayesian 1-stage models for survival described in the paper, using Stan02_fit_surv_1stage_gambam.R Ð this script fits the 1-stage models for survival described in the paper, using mccv and brms
03_fit_surv_2stage.R Ð this script fits the Bayesian 2-stage models for survival described in the paper, using Stan04_fit_fec_1stage.R this script fits the Bayesian 1-stage models for fecundity described in the paper, using Stan

04_fit_fec_1stage_gambam.R this script fits the fecundity models described in the paper, using mccv and brms05_fit_fec_2stage-prior.r this script fits the prior component of the Bayesian 2-stage models for fecundity described in the paper, using Stan06_fit_fec_2stage-posterior.r this script fits the posterior component of the Bayesian 2-stage models for fecundity described in the paper, using Stan07_fit_fec_all.R this script fits the fecundity model using all data08_pred_surv_fec.R Ð this script takes Bayesian output (e.g. from 1-stage models above) and makes predictions to new data. This is entirely for plotting / other modeling purposes Ð where we want to make predictions across a range of Froh values, and propagate uncertainty09_pred_cumulative.R Ð this script takes Bayesian output (e.g. from 1-stage models above) and estimates cumulative survival10_simulate_lrs.R Ð this script takes Bayesian output (e.g. from 1-stage models above) and simulates cumulative lifetime reproductive success11_simulate_lambda.R Ð this script takes Bayesian output (e.g. from 1-stage models above) and estimates lambda, as in a matrix population model. Not used in paper12_calc_table.R - this script takes Bayesian output (e.g. from 1-stage models above) and summarizes quantities of interest (mean, 95% credible intervals)13_prep_data_population_projections.R Ð this script demonstrates an example of fitting the same demographic models using the brms package14_updated_projections.R Ð this script represents a loop for and individual based model / population projections of the SRKW population. 15_compare_del_alleles.R Ð this script is equivalent to 02_fit_surv_1stage.r but demonstrates applying brms with deleterious alleles as a predictor

Genetic-demography.Rmd contains a notebook in markdown for working through the files, and generating extra outputs

make_tables.Rmd contains scripts to process model outputs (focus on survival models) and summarize quantities of interest, such as the effects of covariates on survival

/survival folder contains Stan models used in estimation

/fecundity folder contains Stan models used in estimation